import subprocess
import pydocstyle


def flake8_checker():
    p = subprocess.Popen(["flake8", "code.txt"], stdout=subprocess.PIPE)
    result = str(p.communicate())
    results = list(str(p.communicate()).split('\\r\\n'))
    results2 = []
    results.pop()
    for res in results:
        unneeded2,row,col,msg=res.split(":", 4)
        row_res=[row,col,msg]
        results2.append(row_res)
    print(p)
    return result


def mypy_checker():
    p = subprocess.Popen(["mypy", "code.txt"], stdout=subprocess.PIPE)
    results = list(str(p.communicate()).split('\\r\\n'))
    results2 = []
    results.pop()
    for res in results:
        unneeded,row,msg = res.split(":",2)
        row_res = [row, msg]
        results2.append(row_res)
    return results2